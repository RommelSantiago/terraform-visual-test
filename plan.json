{"format_version":"0.1","terraform_version":"0.12.29","variables":{"region":{"value":"us-east-1"}},"planned_values":{"root_module":{"child_modules":[{"resources":[{"address":"module.eks.aws_eks_cluster.cluster","mode":"managed","type":"aws_eks_cluster","name":"cluster","provider_name":"aws","schema_version":0,"values":{"enabled_cluster_log_types":null,"encryption_config":[],"name":"cluster","tags":null,"timeouts":null,"vpc_config":[{"endpoint_private_access":false,"endpoint_public_access":true,"security_group_ids":null}]}},{"address":"module.eks.aws_eks_node_group.node_group","mode":"managed","type":"aws_eks_node_group","name":"node_group","provider_name":"aws","schema_version":0,"values":{"ami_type":"AL2_x86_64","cluster_name":"cluster","disk_size":20,"force_update_version":null,"instance_types":["t2.micro"],"labels":null,"node_group_name":"node_group","remote_access":[],"scaling_config":[{"desired_size":2,"max_size":3,"min_size":1}],"tags":null,"timeouts":null}},{"address":"module.eks.aws_iam_role.cluster_iam_role","mode":"managed","type":"aws_iam_role","name":"cluster_iam_role","provider_name":"aws","schema_version":0,"values":{"assume_role_policy":"  {\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Principal\": {\n                \"Service\": \"eks.amazonaws.com\"\n            },\n            \"Action\": \"sts:AssumeRole\"\n        }\n    ]\n  }\n","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"cluster_iam_role","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null}},{"address":"module.eks.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"cluster_AmazonEKSClusterPolicy","provider_name":"aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy:policy/AmazonEKSClusterPolicy","role":"cluster_iam_role"}}],"address":"module.eks"},{"resources":[{"address":"module.vpc.aws_internet_gateway.igw","mode":"managed","type":"aws_internet_gateway","name":"igw","provider_name":"aws","schema_version":0,"values":{"tags":{"Name":"internet_gateway"}}},{"address":"module.vpc.aws_route.public_route","mode":"managed","type":"aws_route","name":"public_route","provider_name":"aws","schema_version":0,"values":{"destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":null,"timeouts":null,"transit_gateway_id":null,"vpc_peering_connection_id":null}},{"address":"module.vpc.aws_route_table.public_route_table","mode":"managed","type":"aws_route_table","name":"public_route_table","provider_name":"aws","schema_version":0,"values":{"tags":{"Name":"public route table"}}},{"address":"module.vpc.aws_route_table_association.public_rt_association_a","mode":"managed","type":"aws_route_table_association","name":"public_rt_association_a","provider_name":"aws","schema_version":0,"values":{"gateway_id":null}},{"address":"module.vpc.aws_route_table_association.public_rt_association_b","mode":"managed","type":"aws_route_table_association","name":"public_rt_association_b","provider_name":"aws","schema_version":0,"values":{"gateway_id":null}},{"address":"module.vpc.aws_subnet.public_subnet_a","mode":"managed","type":"aws_subnet","name":"public_subnet_a","provider_name":"aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.0.0.0/28","map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"public_subnet_1a"},"timeouts":null}},{"address":"module.vpc.aws_subnet.public_subnet_b","mode":"managed","type":"aws_subnet","name":"public_subnet_b","provider_name":"aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.0.1.0/28","map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"public_subnet_1b"},"timeouts":null}},{"address":"module.vpc.aws_vpc.vpc","mode":"managed","type":"aws_vpc","name":"vpc","provider_name":"aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/26","enable_dns_support":true,"instance_tenancy":"default","tags":{"Name":"Laboratory VPC"}}}],"address":"module.vpc"}]}},"resource_changes":[{"address":"module.eks.aws_eks_cluster.cluster","module_address":"module.eks","mode":"managed","type":"aws_eks_cluster","name":"cluster","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"enabled_cluster_log_types":null,"encryption_config":[],"name":"cluster","tags":null,"timeouts":null,"vpc_config":[{"endpoint_private_access":false,"endpoint_public_access":true,"security_group_ids":null}]},"after_unknown":{"arn":true,"certificate_authority":true,"created_at":true,"encryption_config":[],"endpoint":true,"id":true,"identity":true,"platform_version":true,"role_arn":true,"status":true,"version":true,"vpc_config":[{"cluster_security_group_id":true,"public_access_cidrs":true,"subnet_ids":true,"vpc_id":true}]}}},{"address":"module.eks.aws_eks_node_group.node_group","module_address":"module.eks","mode":"managed","type":"aws_eks_node_group","name":"node_group","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"ami_type":"AL2_x86_64","cluster_name":"cluster","disk_size":20,"force_update_version":null,"instance_types":["t2.micro"],"labels":null,"node_group_name":"node_group","remote_access":[],"scaling_config":[{"desired_size":2,"max_size":3,"min_size":1}],"tags":null,"timeouts":null},"after_unknown":{"arn":true,"id":true,"instance_types":[false],"node_role_arn":true,"release_version":true,"remote_access":[],"resources":true,"scaling_config":[{}],"status":true,"subnet_ids":true,"version":true}}},{"address":"module.eks.aws_iam_role.cluster_iam_role","module_address":"module.eks","mode":"managed","type":"aws_iam_role","name":"cluster_iam_role","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"  {\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Principal\": {\n                \"Service\": \"eks.amazonaws.com\"\n            },\n            \"Action\": \"sts:AssumeRole\"\n        }\n    ]\n  }\n","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"cluster_iam_role","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"unique_id":true}}},{"address":"module.eks.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy","module_address":"module.eks","mode":"managed","type":"aws_iam_role_policy_attachment","name":"cluster_AmazonEKSClusterPolicy","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy:policy/AmazonEKSClusterPolicy","role":"cluster_iam_role"},"after_unknown":{"id":true}}},{"address":"module.vpc.aws_internet_gateway.igw","module_address":"module.vpc","mode":"managed","type":"aws_internet_gateway","name":"igw","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"tags":{"Name":"internet_gateway"}},"after_unknown":{"arn":true,"id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"module.vpc.aws_route.public_route","module_address":"module.vpc","mode":"managed","type":"aws_route","name":"public_route","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":null,"timeouts":null,"transit_gateway_id":null,"vpc_peering_connection_id":null},"after_unknown":{"destination_prefix_list_id":true,"egress_only_gateway_id":true,"gateway_id":true,"id":true,"instance_id":true,"instance_owner_id":true,"nat_gateway_id":true,"network_interface_id":true,"origin":true,"route_table_id":true,"state":true}}},{"address":"module.vpc.aws_route_table.public_route_table","module_address":"module.vpc","mode":"managed","type":"aws_route_table","name":"public_route_table","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"tags":{"Name":"public route table"}},"after_unknown":{"id":true,"owner_id":true,"propagating_vgws":true,"route":true,"tags":{},"vpc_id":true}}},{"address":"module.vpc.aws_route_table_association.public_rt_association_a","module_address":"module.vpc","mode":"managed","type":"aws_route_table_association","name":"public_rt_association_a","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"module.vpc.aws_route_table_association.public_rt_association_b","module_address":"module.vpc","mode":"managed","type":"aws_route_table_association","name":"public_rt_association_b","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"module.vpc.aws_subnet.public_subnet_a","module_address":"module.vpc","mode":"managed","type":"aws_subnet","name":"public_subnet_a","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.0.0.0/28","map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"public_subnet_1a"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"module.vpc.aws_subnet.public_subnet_b","module_address":"module.vpc","mode":"managed","type":"aws_subnet","name":"public_subnet_b","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.0.1.0/28","map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"public_subnet_1b"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"module.vpc.aws_vpc.vpc","module_address":"module.vpc","mode":"managed","type":"aws_vpc","name":"vpc","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/26","enable_dns_support":true,"instance_tenancy":"default","tags":{"Name":"Laboratory VPC"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_classiclink":true,"enable_classiclink_dns_support":true,"enable_dns_hostnames":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"main_route_table_id":true,"owner_id":true,"tags":{}}}}],"configuration":{"provider_config":{"aws":{"name":"aws","version_constraint":"~\u003e 2.0","expressions":{"region":{"references":["var.region"]}}}},"root_module":{"module_calls":{"eks":{"source":"./modules/eks","expressions":{"sn_a_id":{"references":["module.vpc.subnet_a_id"]},"sn_b_id":{"references":["module.vpc.subnet_b_id"]}},"module":{"resources":[{"address":"aws_eks_cluster.cluster","mode":"managed","type":"aws_eks_cluster","name":"cluster","provider_config_key":"eks:aws","expressions":{"name":{"constant_value":"cluster"},"role_arn":{"references":["aws_iam_role.cluster_iam_role"]},"vpc_config":[{"endpoint_public_access":{"constant_value":true},"subnet_ids":{"references":["var.sn_a_id","var.sn_b_id"]}}]},"schema_version":0,"depends_on":["aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy"]},{"address":"aws_eks_node_group.node_group","mode":"managed","type":"aws_eks_node_group","name":"node_group","provider_config_key":"eks:aws","expressions":{"ami_type":{"constant_value":"AL2_x86_64"},"cluster_name":{"references":["aws_eks_cluster.cluster"]},"disk_size":{"constant_value":20},"instance_types":{"constant_value":["t2.micro"]},"node_group_name":{"constant_value":"node_group"},"node_role_arn":{"references":["aws_iam_role.cluster_iam_role"]},"scaling_config":[{"desired_size":{"constant_value":2},"max_size":{"constant_value":3},"min_size":{"constant_value":1}}],"subnet_ids":{"references":["var.sn_a_id"]}},"schema_version":0,"depends_on":["aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy"]},{"address":"aws_iam_role.cluster_iam_role","mode":"managed","type":"aws_iam_role","name":"cluster_iam_role","provider_config_key":"eks:aws","expressions":{"assume_role_policy":{"constant_value":"  {\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Principal\": {\n                \"Service\": \"eks.amazonaws.com\"\n            },\n            \"Action\": \"sts:AssumeRole\"\n        }\n    ]\n  }\n"},"name":{"constant_value":"cluster_iam_role"}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"cluster_AmazonEKSClusterPolicy","provider_config_key":"eks:aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy:policy/AmazonEKSClusterPolicy"},"role":{"references":["aws_iam_role.cluster_iam_role"]}},"schema_version":0}],"variables":{"sn_a_id":{"description":"Id of subnet a"},"sn_b_id":{"description":"Id of subnet b"}}}},"vpc":{"source":"./modules/vpc","expressions":{"region":{"references":["var.region"]}},"module":{"outputs":{"subnet_a_id":{"expression":{"references":["aws_subnet.public_subnet_a"]}},"subnet_b_id":{"expression":{"references":["aws_subnet.public_subnet_b"]}}},"resources":[{"address":"aws_internet_gateway.igw","mode":"managed","type":"aws_internet_gateway","name":"igw","provider_config_key":"vpc:aws","expressions":{"tags":{"constant_value":{"Name":"internet_gateway"}},"vpc_id":{"references":["aws_vpc.vpc"]}},"schema_version":0},{"address":"aws_route.public_route","mode":"managed","type":"aws_route","name":"public_route","provider_config_key":"vpc:aws","expressions":{"destination_cidr_block":{"constant_value":"0.0.0.0/0"},"gateway_id":{"references":["aws_internet_gateway.igw"]},"route_table_id":{"references":["aws_route_table.public_route_table"]}},"schema_version":0},{"address":"aws_route_table.public_route_table","mode":"managed","type":"aws_route_table","name":"public_route_table","provider_config_key":"vpc:aws","expressions":{"tags":{"constant_value":{"Name":"public route table"}},"vpc_id":{"references":["aws_vpc.vpc"]}},"schema_version":0},{"address":"aws_route_table_association.public_rt_association_a","mode":"managed","type":"aws_route_table_association","name":"public_rt_association_a","provider_config_key":"vpc:aws","expressions":{"route_table_id":{"references":["aws_route_table.public_route_table"]},"subnet_id":{"references":["aws_subnet.public_subnet_a"]}},"schema_version":0},{"address":"aws_route_table_association.public_rt_association_b","mode":"managed","type":"aws_route_table_association","name":"public_rt_association_b","provider_config_key":"vpc:aws","expressions":{"route_table_id":{"references":["aws_route_table.public_route_table"]},"subnet_id":{"references":["aws_subnet.public_subnet_b"]}},"schema_version":0},{"address":"aws_subnet.public_subnet_a","mode":"managed","type":"aws_subnet","name":"public_subnet_a","provider_config_key":"vpc:aws","expressions":{"availability_zone":{"constant_value":"us-east-1a"},"cidr_block":{"constant_value":"10.0.0.0/28"},"tags":{"constant_value":{"Name":"public_subnet_1a"}},"vpc_id":{"references":["aws_vpc.vpc"]}},"schema_version":1},{"address":"aws_subnet.public_subnet_b","mode":"managed","type":"aws_subnet","name":"public_subnet_b","provider_config_key":"vpc:aws","expressions":{"availability_zone":{"constant_value":"us-east-1b"},"cidr_block":{"constant_value":"10.0.1.0/28"},"tags":{"constant_value":{"Name":"public_subnet_1b"}},"vpc_id":{"references":["aws_vpc.vpc"]}},"schema_version":1},{"address":"aws_vpc.vpc","mode":"managed","type":"aws_vpc","name":"vpc","provider_config_key":"vpc:aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/26"},"tags":{"constant_value":{"Name":"Laboratory VPC"}}},"schema_version":1}],"variables":{"region":{"description":"AWS Region"}}}}},"variables":{"region":{"default":"us-east-1","description":"The was region"}}}}}
